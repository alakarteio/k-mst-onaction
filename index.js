!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash"),require("mobx-state-tree")):"function"==typeof define&&define.amd?define(["exports","lodash","mobx-state-tree"],t):t(e["trampss-mst-onaction"]={},e.lodash,e.mobxStateTree)}(this,function(e,t,n){"use strict";var r=function(e,n){return function(r,o){return!!(t.isString(e)&&e===r.fullpath||t.isFunction(e)&&e(r,o)||t.isRegExp(e)&&r.fullpath.match(e))&&n(r,o)}};r.ended=function(e,t){return function(n,o){return!!n.ended&&r(e,t)(n,o)}};!function(){function e(e){this.value=e}function t(t){function n(o,u){try{var i=t[o](u),a=i.value;a instanceof e?Promise.resolve(a.value).then(function(e){n("next",e)},function(e){n("throw",e)}):r(i.done?"return":"normal",i.value)}catch(e){r("throw",e)}}function r(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?n(o.key,o.arg):u=null}var o,u;this._invoke=function(e,t){return new Promise(function(r,i){var a={key:e,arg:t,resolve:r,reject:i,next:null};u?u=u.next=a:(o=u=a,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}();var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){var t=e.name,r=e.type,u=e.context,i=e.args,a=n.getPath(u),c={fullpath:a+"/"+t,path:a,name:t,args:i};switch(r){case"process_return":return o({},c,{ended:!0});case"action":return c;default:return}};e.default=function(e){return function(t,n){var r=u(t);if(r)for(var o=e(),i={done:!1};!i.done;)(i=o.next()).done||i.value(r,t.tree);return n(t)}},e.take=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
